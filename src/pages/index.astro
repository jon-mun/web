---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const projects = (await getCollection('projects'))
	.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
	.slice(0, 3);
---

<Layout>
	<section class="mb-16">
		<h1 class="text-3xl font-bold text-gray-900 mb-6">Hello, I'm Jonathan Edmund.</h1>
		<p class="text-lg text-gray-600 leading-relaxed mb-6">
    I learn, build, and create.
		</p>
	</section>

	<section>
		<h2 class="text-2xl font-bold text-gray-900 mb-8">Featured Projects</h2>
		<div class="space-y-8">
			{
				projects.map((project) => (
					<article class="group">
						<a href={project.data.link} target="_blank" rel="noopener noreferrer" class="block">
							<h3 class="text-xl font-semibold text-gray-900 group-hover:text-gray-600 transition-colors">
								{project.data.title}
							</h3>
							<p class="text-gray-600 mt-2">{project.data.description}</p>
							<div class="mt-3 flex flex-wrap gap-2">
								{project.data.tags.map((tag) => (
									<span class="inline-block bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded">
										{tag}
									</span>
								))}
							</div>
						</a>
					</article>
				))
			}
		</div>
		<div class="mt-8">
			<a href="/projects" class="text-gray-900 font-medium hover:text-gray-600 underline underline-offset-4 decoration-gray-400 hover:decoration-gray-600 transition-all">
				View all projects â†’
			</a>
		</div>
	</section>
</Layout>
