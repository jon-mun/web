---
import type { CollectionEntry } from 'astro:content';
import Layout from './Layout.astro';
import { Image } from 'astro:assets';

type Props = CollectionEntry<'projects'>['data'];

const { title, description, heroImage, role, year, tags, link } = Astro.props;
---

<Layout title={title} description={description}>
	<article>
		<div class="mb-8">
			{heroImage && (
				<div class="mb-8">
					<Image width={1020} height={510} src={heroImage} alt="" class="rounded-xl shadow-sm w-full object-cover" />
				</div>
			)}
			
			<h1 class="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-white leading-tight mb-4">{title}</h1>
			
			<div class="flex flex-wrap gap-y-4 gap-x-8 text-sm text-gray-600 dark:text-gray-400 border-b border-gray-200 dark:border-gray-800 pb-6 mb-8">
				{role && (
					<div class="flex flex-col">
						<span class="font-semibold text-gray-900 dark:text-gray-200">Role</span>
						<span>{role}</span>
					</div>
				)}
				{year && (
					<div class="flex flex-col">
						<span class="font-semibold text-gray-900 dark:text-gray-200">Year</span>
						<span>{year}</span>
					</div>
				)}
				{tags && tags.length > 0 && (
					<div class="flex flex-col">
						<span class="font-semibold text-gray-900 dark:text-gray-200">Stack</span>
						<span class="flex flex-wrap gap-1 mt-1">
                             {tags.join(', ')}
						</span>
					</div>
				)}
                {link && (
                    <div class="flex flex-col">
                        <span class="font-semibold text-gray-900 dark:text-gray-200">Link</span>
                        <a href={link} target="_blank" rel="noopener noreferrer" class="text-blue-600 dark:text-blue-400 hover:underline">
                            Visit Project â†—
                        </a>
                    </div>
                )}
			</div>
		</div>

		<div class="markdown-content">
			<slot />
		</div>
	</article>
</Layout>
